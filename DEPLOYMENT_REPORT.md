# PredictX V2 éƒ¨ç½²æŠ¥å‘Š

## ğŸ“Š åŸºæœ¬ä¿¡æ¯

**éƒ¨ç½²æ—¶é—´**: 2025-10-29 23:02:53
**ç½‘ç»œ**: Socrates Testnet
**Chain ID**: 1111111
**RPC URL**: https://rpc-testnet.socrateschain.org
**åŒºå—æµè§ˆå™¨**: https://explorer-testnet.socrateschain.org
**éƒ¨ç½²è´¦æˆ·**: 0x770132b39E25582cddAa7721461cB82Fbbe69FE6
**è´¦æˆ·ä½™é¢**: 80.999999638880579566 ETH

---

## ğŸ“‹ å·²éƒ¨ç½²åˆçº¦

### 1ï¸âƒ£ MockUSDC (æµ‹è¯•ç¨³å®šå¸)
- **åˆçº¦åœ°å€**: `0x0395BB8A7e9C1c20cd44926e66c41708f5e44943`
- **éƒ¨ç½²Gas**: 640,866
- **äº¤æ˜“å“ˆå¸Œ**: `0xc6e6f3ae707e4e0c279bded06de758fa65204d8f338a92e4f77d042e12ca4d3e`
- **æ„é€ å‚æ•°**: æ— 
- **åŠŸèƒ½**: ç”¨äºæµ‹è¯•çš„ USDC ç¨³å®šå¸ï¼Œæ”¯æŒä»»æ„é“¸é€ 

### 2ï¸âƒ£ ConditionalTokensV2 (æ¡ä»¶ä»£å¸ç³»ç»Ÿ)
- **åˆçº¦åœ°å€**: `0xe4d5CDD2F64f45C4975cb0f97b84584718281089`
- **éƒ¨ç½²Gas**: 1,935,186
- **äº¤æ˜“å“ˆå¸Œ**: `0xfbf1907c8b7e81a91739203bdeb7c1ca5aac4fa4b7f0c734bbd5a7d207bcdaf1`
- **æ„é€ å‚æ•°**: æ— 
- **åŠŸèƒ½**: ERC1155 æ¡ä»¶ä»£å¸ç³»ç»Ÿï¼Œç®¡ç†æ‰€æœ‰é¢„æµ‹å¸‚åœºçš„ä»“ä½

### 3ï¸âƒ£ SettlementV2 (ç»“ç®—åˆçº¦)
- **åˆçº¦åœ°å€**: `0xFb2Fbdc019359A60c1E466d36BFb9b56Ac97FA8b`
- **éƒ¨ç½²Gas**: 2,095,227
- **äº¤æ˜“å“ˆå¸Œ**: `0x10809ba2f7dbe83d3c0591b81e3eb24f27a69ffd46a72e5e3d932e0e0b261d8c`
- **æ„é€ å‚æ•°**:
  - `ctf`: 0xe4d5CDD2F64f45C4975cb0f97b84584718281089
- **åŠŸèƒ½**: è®¢å•ç»“ç®—å’Œæ’®åˆï¼Œç®¡ç†æŠµæŠ¼å“æ‰˜ç®¡
- **é…ç½®**: å·²å°† MockUSDC æ·»åŠ ä¸ºæ”¯æŒçš„æŠµæŠ¼å“

### 4ï¸âƒ£ PythOracleAdapter (é¢„è¨€æœºé€‚é…å™¨)
- **åˆçº¦åœ°å€**: `0x9678B5E11f6a5f6611aFE852f9c1127647f77d83`
- **éƒ¨ç½²Gas**: 447,518
- **äº¤æ˜“å“ˆå¸Œ**: `0xabc1ac828985a081bbdfff63f1d27a77bd4beb0bae9da681cd056a91dd03f192`
- **æ„é€ å‚æ•°**:
  - `_pyth`: 0x132923f95FD7E8a6FD8aC302D8fd92317F23aFfd
  - `_feedId`: 0x7404e3d104ea7841c3d9e6fd20adfe99b4ad586bc08d8f3bd3afef894cf184de
  - `_coolDownPeriod`: 60
- **åŠŸèƒ½**: é€‚é… Pyth é¢„è¨€æœºï¼Œæä¾›åˆ†é’Ÿçº§ BTC ä»·æ ¼æ•°æ®

### 5ï¸âƒ£ MarketRegistryV2 (å¸‚åœºæ³¨å†Œè¡¨)
- **åˆçº¦åœ°å€**: `0xe90F91a507f49fa9DdD8a711051e756CAfaD49Fb`
- **éƒ¨ç½²Gas**: 1,183,351
- **äº¤æ˜“å“ˆå¸Œ**: `0x767192d06574f4f2cea8ab3b485763856be12ee1f206b7bc5e668fc018588cc0`
- **æ„é€ å‚æ•°**:
  - `ctf`: 0xe4d5CDD2F64f45C4975cb0f97b84584718281089
- **åŠŸèƒ½**: ç®¡ç†å¸‚åœºåˆ›å»ºã€è§£æå’Œç”Ÿå‘½å‘¨æœŸ

---

## ğŸ”§ é¢„è¨€æœºé…ç½®

### Pyth Oracle é›†æˆ
- **Pythåˆçº¦åœ°å€**: `0x132923f95FD7E8a6FD8aC302D8fd92317F23aFfd`
- **BTC Feed ID**: `0x7404e3d104ea7841c3d9e6fd20adfe99b4ad586bc08d8f3bd3afef894cf184de`
- **ä»·æ ¼ç²¾åº¦**: -8 (8ä½å°æ•°)
- **å†·å´æœŸ**: 60ç§’
- **æœ€æ–°æµ‹è¯•ä»·æ ¼**: $111,862.67 (2025-10-29T15:46:00)

### é¢„è¨€æœºåŠŸèƒ½
- âœ… `getLatestPrice()` - è·å–æœ€æ–°åˆ†é’Ÿçº§ä»·æ ¼
- âœ… `getPriceAt(uint64)` - è·å–å†å²åˆ†é’Ÿçº§ä»·æ ¼
- âœ… `getPriceAtZeroTimestamp()` - ä½¿ç”¨è‡ªå®šä¹‰æ–¹æ³•è·å–å‡†ç¡®çš„å†å²ä»·æ ¼
- âœ… åˆ†é’Ÿå¯¹é½éªŒè¯
- âœ… ä»·æ ¼æ—¶æ•ˆæ€§æ£€æŸ¥ï¼ˆæœ€å¤š5åˆ†é’Ÿï¼‰

---

## ğŸ“ˆ æµ‹è¯•å¸‚åœº

å·²æˆåŠŸåˆ›å»º3ä¸ªæµ‹è¯•å¸‚åœºï¼š

### Market #1: BTC UP/DOWN 1åˆ†é’Ÿ
- **Market ID**: 1
- **Condition ID**: `0xe26c786cfd72b5a87c6b40480e4a52939d0434128bf30961fef823907c06e53a`
- **å¼€å§‹æ—¶é—´**: 1761752940
- **ç»“æŸæ—¶é—´**: 1761753000
- **æ—¶é—´æ¡†æ¶**: 1åˆ†é’Ÿ
- **äº¤æ˜“å¯¹**: BTC/USD
- **ç»“æœç±»å‹**: UP (æ¶¨) / DOWN (è·Œ)

### Market #2: BTC UP/DOWN 3åˆ†é’Ÿ
- **Market ID**: 2
- **Condition ID**: `0xee218fa58b5663a17e5ace1b964ef7e51f62017c084b6c52a7728d66963c3cfd`
- **å¼€å§‹æ—¶é—´**: 1761752940
- **ç»“æŸæ—¶é—´**: 1761753120
- **æ—¶é—´æ¡†æ¶**: 3åˆ†é’Ÿ

### Market #3: BTC UP/DOWN 5åˆ†é’Ÿ
- **Market ID**: 3
- **Condition ID**: `0xd65210758c3a4842af4fe477007a0da311ff5ed345f2aa65abcc71568162e05d`
- **å¼€å§‹æ—¶é—´**: 1761752940
- **ç»“æŸæ—¶é—´**: 1761753240
- **æ—¶é—´æ¡†æ¶**: 5åˆ†é’Ÿ

---

## ğŸ’° æµ‹è¯•è´¦æˆ·é…ç½®

### éƒ¨ç½²è´¦æˆ· (Deployer)
- **åœ°å€**: 0x770132b39E25582cddAa7721461cB82Fbbe69FE6
- **ç§é’¥**: 0xb304b6c6a8ed29942c2414d1dd2aaa9817aa5ff42f80e5634e2b1e1d8fc63f47
- **ä½™é¢**: 80.99 ETH
- **USDCä½™é¢**: 100,000 USDC

### ä¸­ç»§å™¨è´¦æˆ· (Relayer)
- **åœ°å€**: 0xe1B829BB4E1143e8FCEffA525caD374837Ec32ba
- **ç§é’¥**: 0xf681c8c714ab3a7f1f0e0eab9431d0a82587d7053c9778ecc3fb2eb5eacbb839
- **åŠŸèƒ½**: æ‰¹é‡æäº¤ç»“ç®—äº¤æ˜“

### æ›´å¤šæµ‹è¯•è´¦æˆ·
è¯¦è§ `/addresses.json` æ–‡ä»¶ï¼ŒåŒ…å«ï¼š
- Faucetè´¦æˆ·
- Matcheræ“ä½œå‘˜
- Demoäº¤æ˜“è€…
- æµåŠ¨æ€§æä¾›è€…
- 10+ä¸ªæµ‹è¯•ç”¨æˆ·

---

## âœ… æµ‹è¯•ç»“æœ

### å·²é€šè¿‡çš„æµ‹è¯•
1. âœ… **ä¾èµ–å®‰è£…** - 629ä¸ªnpmåŒ…æˆåŠŸå®‰è£…
2. âœ… **åˆçº¦ç¼–è¯‘** - 43ä¸ªSolidityæ–‡ä»¶æˆåŠŸç¼–è¯‘
3. âœ… **åˆçº¦éƒ¨ç½²** - æ‰€æœ‰5ä¸ªæ ¸å¿ƒåˆçº¦æˆåŠŸéƒ¨ç½²
4. âœ… **é¢„è¨€æœºè¿æ¥** - æˆåŠŸè¿æ¥Pythé¢„è¨€æœºå¹¶è¯»å–ä»·æ ¼
5. âœ… **USDCé“¸é€ ** - æˆåŠŸé“¸é€ 100,000 USDC
6. âœ… **å¸‚åœºåˆ›å»º** - æˆåŠŸåˆ›å»º3ä¸ªæµ‹è¯•å¸‚åœº
7. âœ… **ä½™é¢æŸ¥è¯¢** - è´¦æˆ·ä½™é¢æŸ¥è¯¢æ­£å¸¸

### å¾…å®Œæˆçš„æµ‹è¯•
- â³ **è®¢å•æµç¨‹æµ‹è¯•** - å­˜æ¬¾ç¯èŠ‚é‡åˆ°revertï¼ˆå¾…ä¿®å¤ï¼‰
- â³ **å¸‚åœºè§£ææµ‹è¯•** - å¾…æµ‹è¯•
- â³ **ä»“ä½èµå›æµ‹è¯•** - å¾…æµ‹è¯•
- â³ **å®Œæ•´äº¤æ˜“æµç¨‹** - å¾…æµ‹è¯•

---

## ğŸ” å·²çŸ¥é—®é¢˜

### Issue #1: è®¢å•æµ‹è¯•å­˜æ¬¾å¤±è´¥
- **é”™è¯¯**: ProviderError: execution reverted
- **ä½ç½®**: `testOrderFlow.ts` å­˜æ¬¾é˜¶æ®µ
- **å¯èƒ½åŸå› **:
  - USDC approve æœªæ­£ç¡®è°ƒç”¨
  - SettlementV2 å­˜æ¬¾æ¡ä»¶æ£€æŸ¥å¤±è´¥
- **çŠ¶æ€**: å¾…ä¿®å¤

---

## ğŸ“ ç”Ÿæˆçš„æ–‡ä»¶

| æ–‡ä»¶ | è·¯å¾„ | ç”¨é€” |
|------|------|------|
| addresses.json | /chain/addresses.json | å·²éƒ¨ç½²åˆçº¦åœ°å€ |
| test-markets.json | /chain/test-markets.json | æµ‹è¯•å¸‚åœºé…ç½® |
| .env | /chain/.env | ç¯å¢ƒå˜é‡é…ç½® |
| typechain-types | /chain/typechain-types | TypeScriptç±»å‹å®šä¹‰ |

---

## ğŸ“Š Gas ä½¿ç”¨ç»Ÿè®¡

| æ“ä½œ | Gas Used | å æ¯” |
|------|----------|------|
| MockUSDCéƒ¨ç½² | 640,866 | 10.4% |
| CTFéƒ¨ç½² | 1,935,186 | 31.4% |
| SettlementV2éƒ¨ç½² | 2,095,227 | 34.0% |
| PythOracleAdapteréƒ¨ç½² | 447,518 | 7.3% |
| MarketRegistryV2éƒ¨ç½² | 1,183,351 | 19.2% |
| æŠµæŠ¼å“ç™½åå• | 47,621 | 0.8% |
| **æ€»è®¡** | **6,349,769** | **100%** |

---

## ğŸ” å®‰å…¨æç¤º

âš ï¸ **é‡è¦**: æ‰€æœ‰ç§é’¥ä»…ç”¨äºæµ‹è¯•ç¯å¢ƒ
- è¯·å‹¿åœ¨ä¸»ç½‘ä½¿ç”¨è¿™äº›ç§é’¥
- è¯·å‹¿å‘è¿™äº›åœ°å€å‘é€çœŸå®èµ„äº§
- æµ‹è¯•å®Œæˆåå»ºè®®è½®æ¢ç§é’¥

---

## ğŸ“ ä¸‹ä¸€æ­¥æ“ä½œ

### ç«‹å³æ‰§è¡Œ
1. âœ… éªŒè¯æ‰€æœ‰å·²éƒ¨ç½²çš„åˆçº¦åˆ°åŒºå—æµè§ˆå™¨
2. ğŸ”§ ä¿®å¤è®¢å•æµç¨‹æµ‹è¯•ä¸­çš„å­˜æ¬¾é—®é¢˜
3. âœ… å®Œæˆå…¨åŠŸèƒ½æµ‹è¯•å¥—ä»¶

### åç»­ä¼˜åŒ–
1. ä¼˜åŒ–Gasä½¿ç”¨
2. æ·»åŠ æ›´å¤šå¸‚åœºç±»å‹
3. é›†æˆå‰ç«¯ç•Œé¢
4. éƒ¨ç½²åç«¯æœåŠ¡ï¼ˆmatcherã€relayerï¼‰

---

## ğŸ“ æ”¯æŒä¿¡æ¯

- **é¡¹ç›®ä»“åº“**: https://github.com/rwagold-cyber/predction-new
- **Socratesæµ‹è¯•ç½‘**: https://rpc-testnet.socrateschain.org
- **åŒºå—æµè§ˆå™¨**: https://explorer-testnet.socrateschain.org

---

*æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2025-10-29 23:02:53*
*ç”± Claude Code è‡ªåŠ¨ç”Ÿæˆ*
